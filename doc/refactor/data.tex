\section{Data}

\subsection{Input data}
\begin{tikzpicture}
    \begin{class}[text width=\umlwidth]{Atoms}{0, 0}
        \attribute{+ number : Integer}
        \attribute{+ positions : Array(Float)}
        \attribute{+ radii : Array(Float)}
        \attribute{+ sorted\_positions : Array(Float)}
        \attribute{+ sorted\_radii : Array(Float)}
        \attribute{+ radii\_as\_indices: Array(Integer)}

        \operation{+ Atoms(positions : Array(Float), radii : Array(Float))}
        \operation{+ Atoms(h5group : HDF5Group)}
        \operation{+ Atoms(molecule : PybelMolecule, volume : Volume)}
        \operation{+ tohdf(h5group : HDF5Group, overwrite : Boolean)}
    \end{class}
\end{tikzpicture}

\todo{\texttt{Volume} class should be here.\\Maybe put a \texttt{Volume} object into \texttt{Atoms}.}


\subsection{Calculation results}
\begin{tikzpicture}
    \begin{abstractclass}[text width=\umlwidth]{CavitiesBase}{0, 0}
        \attribute{+ timestamp : Timestamp}
        \attribute{+ number : Integer}
        \attribute{+ volumes : Array(Float)}
        \attribute{+ surface\_areas : Array(Float)}
        \attribute{+ triangles : List(Array(Float))}

        \operation{+ CavitiesBase(timestamp : Timestamp, volumes : Array(Float), surface\_areas : Array(Float), triangles : List(Array(Float)))}
        \operation{+ CavitiesBase(h5group : HDF5Group)}
        \operation{+ tohdf(h5group : HDF5Group, overwrite : Boolean)}
    \end{abstractclass}

    \begin{class}[text width=\umlwidth]{Domains}{-1, -8}
        \inherit{CavitiesBase}
        
        \attribute{+ centers : Array(Float)}

        \operation{+ Domains(timestamp : Timestamp, volumes : Array(Float), surface\_areas : Array(Float), triangles : List(Array(Float)), centers : Array(Float))}
        \operation{+ Domains(h5group : HDF5Group)}
        \operation{+ tohdf(h5group : HDF5Group, overwrite : Boolean)}
    \end{class}

    \begin{class}[text width=\umlwidth]{Cavities}{1, -13}
        \inherit{CavitiesBase}

        \attribute{+ multicavities : List(Array(Integer))}

        \operation{+ Cavities(timestamp : Timestamp, volumes : Array(Float), surface\_areas : Array(Float), triangles : List(Array(Float)), multicavities : List(Array(Integer)))}
        \operation{+ Cavities(h5group : HDF5Group)}
        \operation{+ tohdf(h5group : HDF5Group, overwrite : Boolean)}
    \end{class}
\end{tikzpicture}

\noindent
\begin{tikzpicture}
    \begin{class}[text width=\umlwidth]{Results}{0, 0}
        \attribute{+ filepath : String}
        \attribute{+ frame : Integer}
        \attribute{+ resolution : Integer}
        \attribute{+ atoms : Atoms}
        \attribute{+ domains : Domains}
        \attribute{+ surface\_cavities : Cavities}
        \attribute{+ center\_cavities : Cavities}

        \operation{+ Results(filepath : String, frame : Integer, resolution : Integer, atoms : Atoms, domains : Domains, surface\_cavities : Cavities, center\_cavities : Cavities)}
    \end{class}
\end{tikzpicture}


\subsection{Meta data}
\begin{tikzpicture}
    \begin{class}[text width=\umlwidth]{FileInfo}{0, 0}
        \attribute{+ path : String}
        \attribute{+ num\_frames : Integer}
        \attribute{+ volumestr : String}
        \attribute{+ volume : Volume}

        \operation{+ FileInfo(path : String, num\_frames : Integer, volumestr : String, volume : Volume)}
    \end{class}

    \begin{class}[text width=\umlwidth]{ResultInfo}{0, -5}
        \inherit{FileInfo}

        \attribute{+ sourcefilepath : String}
        \attribute{+ calculatedframes : Dictionary(Integer $\rightarrow$ CalculatedFrames)}

        \operation{+ ResultInfo(path : String, num\_frames : Integer, volumestr : String, volume : Volume, sourcefilepath : String)}
        \operation{+ ResultInfo(h5group : HDF5Group)}
        \operation{+ \_\_contains\_\_(resolution : Integer) : Boolean}
        \operation{+ \_\_getitem\_\_(resolution : Integer) : CalculatedFrames}
        \operation{tohdf(h5group : HDF5Group, overwrite : Boolean)}
    \end{class}
\end{tikzpicture}

\noindent
\begin{tikzpicture}
    \begin{class}[text width=\umlwidth]{CalculatedFrames}{0, 0}
        \attribute{+ num\_frames : Integer}
        \attribute{+ domains : List(Timestamp)}
        \attribute{+ surface\_cavities : List(Timestamp)}
        \attribute{+ center\_cavities : List(Timestamp)}

        \operation{+ CalculatedFrames(num\_frames : Integer)}
        \operation{+ CalculatedFrames(h5group : HDF5Group)}
        \operation{hasdata() : Boolean}
        \operation{+ tohdf(h5group : HDF5Group, overwrite : Boolean)}
    \end{class}
\end{tikzpicture}

